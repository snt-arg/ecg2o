close all
origin = [0,0.0300000000000000,0.360000000000000,1.36000000000000,2.70000000000000,4.20000000000000,5.29000000000000,5.43000000000000,4.12000000000000,2.93000000000000,1.66000000000000,0.570000000000000,0.200000000000000,0.390000000000000,0,0.280000000000000,0.400000000000000,0.220000000000000,0.100000000000000,0.100000000000000,0.0900000000000000,0,0,0.0400000000000000,0,0,0,0.300000000000000,1.19000000000000,2.10000000000000,3.52000000000000,4.80000000000000,5.99000000000000,6.74000000000000,7,7.23000000000000,7.40000000000000,7.90000000000000,8.33000000000000,8.54000000000000,9.04000000000000,9.30000000000000,9.31000000000000,9.50000000000000,9.74000000000000,9.52000000000000,9.26000000000000,9.20000000000000,8.80000000000000,7.95000000000000,6.36000000000000,6,6.69000000000000,8.69000000000000,9.10000000000000,9.53000000000000,10.2000000000000,10.7000000000000,10.7100000000000,10.4000000000000,11,11.1300000000000,11.4000000000000,11.5700000000000,11.9000000000000,12.2000000000000,12.2000000000000,12.3000000000000,12.4800000000000,12.7000000000000,12.7000000000000,12.7500000000000,12.8000000000000,12.7000000000000,12.6000000000000,12.8000000000000,12.4000000000000,12.3500000000000,12.5000000000000,12.6500000000000,12.7000000000000,12.5000000000000,12.3000000000000,12.1000000000000,12.1000000000000,12.4900000000000,12,11.9200000000000,11.6900000000000,10.5000000000000,8.33000000000000,6.80000000000000,5.44000000000000,4,3.10000000000000,2.01000000000000,1.50000000000000,2.87000000000000,6.61000000000000,6.90000000000000,6.64000000000000,7.40000000000000,9.47000000000000,10.0500000000000,10.5000000000000,10.9300000000000,11,11.4000000000000,11.6000000000000,11.8000000000000,12,12.3000000000000,12.5000000000000,12.7500000000000,12.6000000000000,12.4900000000000,12.1900000000000,11.9800000000000,11.9000000000000,11.5000000000000,11.4900000000000,11.2000000000000,10.9000000000000,10.6300000000000,10.3000000000000,10.1000000000000,9.80000000000000,9.40000000000000,7.55000000000000,6.11000000000000,3.76000000000000,1.52000000000000,0.380000000000000,0,0,0,0,0,0,0,0,0,0.0500000000000000,3.17000000000000,4.26000000000000,4.33000000000000,5.53000000000000,6.42000000000000,7.54000000000000,8.59000000000000,8.20000000000000,8.10000000000000,7.70000000000000,7.10000000000000,4.72000000000000,3.22000000000000,1.78000000000000,0.250000000000000,0.120000000000000,3.79000000000000,3.70000000000000,2.50000000000000,2.20000000000000,5.09000000000000,6.59000000000000,6.89000000000000,7.60000000000000,7.80000000000000,8.06000000000000,8.55000000000000,9.19000000000000,9.51000000000000,10.1300000000000,10.4000000000000,10.8000000000000,11.0900000000000,11.3000000000000,11.5000000000000,12.0400000000000,12.4000000000000,12.5000000000000,12.6000000000000,12.7000000000000,12.7000000000000,12.6000000000000,12.4000000000000,12.3000000000000,12.2000000000000,12.3700000000000,12.3000000000000,12.2400000000000,12.2000000000000,11.7000000000000,11.5500000000000,11.3000000000000,11.2000000000000,11.3000000000000,11.3000000000000,11.3000000000000,11.5300000000000,11.6000000000000,11.8000000000000,11.9000000000000,12,11.6100000000000,11.2700000000000,11,10.2000000000000,9.80000000000000,9.60000000000000,9.53000000000000,9.50000000000000,9.60000000000000,9.79000000000000,9.98000000000000,10.2800000000000,10.6000000000000,10.7400000000000,10.7300000000000,10.6300000000000,10.4900000000000,10.3000000000000,10.4000000000000,10.4000000000000,10.3000000000000,9.13000000000000,6.54000000000000,4.18000000000000,2.46000000000000,0.750000000000000,0,0,0.100000000000000,0,0.100000000000000,0.180000000000000,0,0,0.500000000000000,1.70000000000000,1.60000000000000,2.32000000000000,3.31000000000000,3.60000000000000,4.10000000000000,4.96000000000000,5.64000000000000,5.60000000000000,5.90000000000000,7.22000000000000,8.16000000000000,8.50000000000000,9.21000000000000,11.0500000000000,10.7000000000000,11.2000000000000,12.4600000000000,13.7500000000000,14.4000000000000,13.9000000000000,14.8000000000000,15.7100000000000,15.9400000000000,15.9800000000000,15.5000000000000,15.4000000000000,15.2000000000000,14.7600000000000,15.1000000000000,15.3600000000000,15.4000000000000,15.2000000000000,14.9600000000000,14.5000000000000,14.8800000000000,15.9200000000000,16.1000000000000,16.2000000000000,16.0400000000000,15.8000000000000,15.3600000000000,14.7600000000000,14.4000000000000,14.2000000000000,14.2700000000000,14.8000000000000,16.5800000000000,17.6200000000000,18.2000000000000,18.9000000000000,19.0200000000000,18.9000000000000,18.8400000000000,18.5300000000000,18.1000000000000,18.1600000000000,17.8000000000000,17.8000000000000,17.7200000000000,17.5000000000000,17.1000000000000,16.6000000000000,16.4400000000000,15.9100000000000,15.6000000000000,15.6700000000000,15.8000000000000,15.7000000000000,15.6700000000000,15.7000000000000,15.9000000000000,15.7700000000000,15.9000000000000,15.7000000000000,15.7600000000000,15.9000000000000,16.1000000000000,16.5000000000000,16.7400000000000,16.2700000000000,15.1500000000000,13.4300000000000,12.8000000000000,12.9000000000000,12.3000000000000,10.6900000000000,7.80000000000000,5.61000000000000,3.39000000000000,1.65000000000000,0.300000000000000,0,0.100000000000000,0.100000000000000,0,0,0,1.56000000000000,2.68000000000000,2.18000000000000,1.90000000000000,2.70000000000000,4.02000000000000,5.70000000000000,6.05000000000000,6.55000000000000,6.90000000000000,7.10000000000000,7.13000000000000,7.54000000000000,9.47000000000000,10.3300000000000,10.8000000000000,11.4000000000000,12,12.1000000000000,12.0400000000000,12.0700000000000,12,12.2000000000000,12.3000000000000,12.3000000000000,12.4000000000000,12.5000000000000,12.6000000000000,12.8000000000000,12.9000000000000,12.8200000000000,11.8500000000000,11.1000000000000,11.1600000000000,11.4000000000000,11.6200000000000,12.7200000000000,12.9100000000000,13,11.9700000000000,8.38000000000000,6,3.20000000000000,1.14000000000000,0,0,0.180000000000000,0,0,0,0];
% Define file path
file_path = "../build/";
rawVector1 = str2num(fileread(file_path + "output_gn.txt"));
rawVector2 = str2num(fileread(file_path + "output_al.txt"));


% Find indexes
%indexes1 = find(rawVector1 == 1.0101e+08);
indexes2 = find(rawVector2 == 1.0101e+08);
% Extract data  
x = rawVector1(1:indexes1(1)-1);
al = rawVector2(1:indexes1(1)-1);

force_x = rawVector1(indexes(1)+1:indexes(2)-1);
force_al = rawVector2(indexes(1)+1:indexes(2)-1)

 

% Load Reference Velocity Trajectory (Example)
 
% Create figure with proper size for IEEE two-column papers
figure('Units','centimeters','Position',[4,6,20,010]);

% Subplot 1: Velocity Trajectories
%subplot(2,1,1);
plot(origin, 'b', 'LineWidth', 1.5); % Reference (dashed black)
hold on;
plot(x, 'g-', 'LineWidth', 1.5); % Optimal (solid blue)
plot(al, 'm--', 'LineWidth', 2); % Optimal (solid blue)

grid on;
xlabel('Time Step');
ylabel('Velocity (m/s)');
title('Velocity Trajectory');
legend('Reference','Optimal (KKT-based)','Optimal (AL)','Location','best');
hold off;

